# 📧 이메일 관리자 (Email Manager)

폐쇄망에서 .eml 형식으로 저장된 메일을 효과적으로 정리하고 관리할 수 있는 웹 기반 프로그램입니다.

## ✨ 주요 기능

- 🗂️ **폴더 탐색**: 계층 구조로 이메일 폴더를 탐색
- 📧 **이메일 보기**: HTML 및 텍스트 형식의 이메일 내용 표시
- 🔍 **고급 검색**: 제목, 보낸이, 본문에서 키워드 검색
- 📎 **첨부파일 관리**: 첨부파일 확인 및 다운로드
- 🔒 **보안**: 로컬에서만 실행되어 데이터 유출 방지
- 🌐 **웹 인터페이스**: 별도 설치 없이 브라우저에서 사용
- 📱 **반응형 디자인**: 다양한 화면 크기에서 최적화된 UI

## 🏗️ 기술 스택

### 백엔드 (Flask)
- **Python 3.7+**
- **Flask**: 웹 서버 프레임워크
- **SQLite**: 메타데이터 저장
- **Email 라이브러리**: .eml 파일 파싱

### 프론트엔드 (React)
- **React 18**: 사용자 인터페이스
- **Bootstrap 5**: UI 컴포넌트
- **Axios**: API 통신
- **DOMPurify**: HTML 보안 처리

## 📁 프로젝트 구조

```
email-manager/
├── backend/                    # Flask 백엔드
│   ├── app.py                 # 메인 애플리케이션
│   ├── email_parser.py        # 이메일 파싱 모듈
│   ├── models.py              # 데이터베이스 모델
│   └── requirements.txt       # Python 의존성
├── frontend/                   # React 프론트엔드
│   ├── src/
│   │   ├── components/        # React 컴포넌트
│   │   ├── services/          # API 서비스
│   │   └── styles/           # CSS 스타일
│   ├── public/               # 정적 파일
│   └── package.json          # Node.js 의존성
├── run.py                     # 통합 실행 스크립트
└── README.md                  # 프로젝트 문서
```

## 🚀 설치 및 실행

### 시스템 요구사항

- **Python 3.7 이상**
- **Node.js 14 이상**
- **npm 6 이상**

### 자동 설치 및 실행

가장 쉬운 방법은 통합 실행 스크립트를 사용하는 것입니다:

```bash
python run.py
```

이 스크립트는 다음 작업을 자동으로 수행합니다:
1. 시스템 요구사항 확인
2. Python 및 Node.js 의존성 설치
3. 백엔드 및 프론트엔드 서버 실행

### 수동 설치 및 실행

#### 1. 저장소 클론
```bash
git clone <repository-url>
cd email-manager
```

#### 2. 백엔드 설정
```bash
cd backend
pip install -r requirements.txt
```

#### 3. 프론트엔드 설정
```bash
cd frontend
npm install
```

#### 4. 서버 실행

**백엔드 실행 (터미널 1):**
```bash
cd backend
python app.py
```

**프론트엔드 실행 (터미널 2):**
```bash
cd frontend
npm start
```

### 접속

브라우저에서 다음 주소로 접속:
- **프론트엔드**: http://localhost:3000
- **백엔드 API**: http://localhost:5000

## 📋 사용법

### 1. 초기 설정

1. 브라우저에서 http://localhost:3000에 접속
2. 상단 네비게이션에서 "설정" 클릭
3. "이메일 루트 폴더 경로"에 .eml 파일들이 저장된 폴더 경로 입력
   - 예시: `/home/user/emails` (Linux/Mac) 또는 `C:\Emails` (Windows)
4. "설정 저장" 버튼 클릭

### 2. 이메일 탐색

1. 왼쪽 사이드바에서 폴더를 선택
2. 가운데 영역에서 이메일 목록 확인
3. 이메일을 클릭하여 오른쪽 영역에서 내용 확인

### 3. 검색 기능

1. 상단의 검색바에 키워드 입력
2. "검색 옵션" 버튼으로 검색 범위 선택 (제목, 보낸이, 본문)
3. Enter 키를 누르거나 검색 버튼 클릭

### 4. 첨부파일 다운로드

1. 첨부파일이 있는 이메일을 선택
2. 이메일 하단의 "첨부파일" 섹션에서 파일 확인
3. "다운로드" 버튼 클릭

## 🔧 설정 옵션

### 백엔드 설정

`backend/config.json` 파일에서 다음 설정을 변경할 수 있습니다:

```json
{
  "email_root": "/path/to/email/folder",
  "port": 5000,
  "host": "127.0.0.1"
}
```

- **email_root**: .eml 파일들이 저장된 폴더 경로
- **port**: 백엔드 서버 포트 (기본값: 5000)
- **host**: 서버 바인딩 주소 (보안을 위해 127.0.0.1 권장)

### 프론트엔드 설정

프론트엔드는 `package.json`의 `proxy` 설정을 통해 백엔드와 연결됩니다:

```json
{
  "proxy": "http://localhost:5000"
}
```

## 🛡️ 보안 고려사항

- **로컬 실행**: 서버는 localhost(127.0.0.1)에서만 실행되어 외부 접근 차단
- **HTML 보안**: DOMPurify를 사용하여 이메일 HTML 내용 안전하게 처리
- **파일 접근**: 설정된 이메일 폴더 내의 .eml 파일만 접근 가능
- **데이터 보호**: 모든 데이터는 로컬에서만 처리되며 외부로 전송되지 않음

## 🐛 문제 해결

### 포트 충돌

다른 애플리케이션이 포트 3000 또는 5000을 사용 중인 경우:

**백엔드 포트 변경:**
```bash
# backend/app.py 수정
app.run(host='127.0.0.1', port=5001, debug=True)
```

**프론트엔드 포트 변경:**
```bash
cd frontend
PORT=3001 npm start
```

### 이메일이 표시되지 않는 경우

1. 설정된 폴더 경로가 올바른지 확인
2. 해당 폴더에 .eml 파일이 있는지 확인
3. 폴더 권한 확인 (읽기 권한 필요)

### 검색이 작동하지 않는 경우

1. 검색어가 2글자 이상인지 확인
2. 검색 범위가 선택되어 있는지 확인
3. 특수문자가 포함된 경우 따옴표로 감싸기

## 📈 성능 최적화

### 대용량 이메일 처리

- 이메일 내용은 선택 시에만 로드하여 메모리 사용량 최소화
- 폴더별로 이메일 목록을 나누어 로딩 시간 단축
- 검색 인덱스를 통한 빠른 검색 기능

### 메모리 관리

- 이메일 파싱 결과를 캐싱하여 반복 접근 시 성능 향상
- 대용량 첨부파일은 스트리밍 방식으로 처리

## 🤝 기여하기

1. 이 저장소를 포크합니다
2. 새로운 기능 브랜치를 생성합니다 (`git checkout -b feature/amazing-feature`)
3. 변경사항을 커밋합니다 (`git commit -m 'Add some amazing feature'`)
4. 브랜치에 푸시합니다 (`git push origin feature/amazing-feature`)
5. Pull Request를 생성합니다

## 📄 라이센스

이 프로젝트는 MIT 라이센스 하에 배포됩니다. 자세한 내용은 [LICENSE](LICENSE) 파일을 참조하세요.

## 🔮 향후 계획

- [ ] 이메일 태그 및 라벨 기능
- [ ] 고급 필터링 옵션
- [ ] 이메일 아카이브 기능
- [ ] 다국어 지원
- [ ] 테마 변경 기능
- [ ] 이메일 통계 대시보드

## 📞 지원

문제가 발생하거나 질문이 있으시면 GitHub Issues를 통해 문의해주세요.

---

**📧 이메일 관리자** - 폐쇄망에서의 안전하고 효율적인 이메일 관리 솔루션
